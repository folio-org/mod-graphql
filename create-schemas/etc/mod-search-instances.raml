#%RAML 1.0
title: Instance searching in mod-search
version: v0.8
protocols: [ HTTP, HTTPS ]
baseUri: http://localhost

documentation:
  - title: Instance Storage API
    content: <b>Storage for instances in the inventory</b>

types:
  instance: !include ../../mod-inventory-storage/ramls/instance.json
  instances: !include ../../mod-inventory-storage/ramls/instances.json

traits:
  language: !include ../../mod-inventory-storage/ramls/raml-util/traits/language.raml
  pageable: !include ../../mod-inventory-storage/ramls/raml-util/traits/pageable.raml
  searchable: !include ../../mod-inventory-storage/ramls/raml-util/traits/searchable.raml

resourceTypes:
  collection: !include ../../mod-inventory-storage/ramls/raml-util/rtypes/collection.raml
  collection-item: !include ../../mod-inventory-storage/ramls/raml-util/rtypes/item-collection.raml

/search:
  /instances:
    displayName: Get a list of instances for CQL query
    type:
      collection:
        exampleCollection: !include  ../../mod-inventory-storage/ramls/examples/instances_get.json
        schemaCollection: instances
        schemaItem: instance
        exampleItem: !include ../../mod-inventory-storage/ramls/examples/instance_get.json
    get:
      is: [pageable,
          searchable: {description: "by title (using CQL)",
                        example: "title=\"*uproot*\""},
          ]
